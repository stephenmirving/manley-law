/// Extended in the `animation-front-face` and the `animation-back-face`
/// mixins as the base styles for the subelements of a 3-D transformed element.
%animation-faces {
  backface-visibility: hidden;
  height: 100%;
  position: absolute;
  width: 100%;
}

/// Applies the float clearing 'clearfix' hack, but as an @extend placeholder
%clearfix {
  &:before,
  &:after {
    content: '';
    display: table;
  }

  &:after {
    clear: both;
  }
}

%links-nav-widescreen {
  background: 0 0;
  border: 0.125rem solid transparent;
  border-width: 0.125rem 0;
  display: block;
  font-weight: 700;
  padding: 0.25rem;
  line-height: 1.15;
  font-family: $font--headings;
  font-size: $nav-link-fontsize--fb-static;
  font-size: $nav-link-fontsize--fb;
  font-size: $nav-link-fontsize;

  &:focus {
    outline: 0;
  }

  @media screen and (min-width: $breakpoint--1080) {
    padding: 0.375rem;
  }
}

%content-link-base {
  font-weight: 500;
  transition: $link-transition;
  border-bottom: 1px solid transparent;
}

@mixin _content-link-hover-focus-state() {
  color: $color--green-lime;
  border-bottom-color: inherit;
}

@mixin links-tab-focus-state() {
  border-bottom-color: transparent !important;
  outline: auto 0.0625rem $color--blue;
  outline-offset: 0.125rem;
}

%content-links {
  @extend %content-link-base;

  &,
  &:link,
  &:visited {
    color: $color--blue;
  }

  &:-moz-focusring {
    @include _content-link-hover-focus-state;
  }

  &:hover,
  &:focus-visible {
    @include _content-link-hover-focus-state;
  }

  &:active {
    color: shade($color--blue-light, 20%);
  }

  &:focus-visible {
    outline: auto 0.0625rem s$color--blue;
    outline-offset: 0.125rem;
  }
}

@mixin _contact-link-hover-focus-state() {
  color: $color--brand;
  border-bottom-color: inherit;
}

%contact-links {
  @extend %content-link-base;

  &,
  &:link,
  &:visited {
    color: $color--brand-green;
  }

  &:-moz-focusring {
    @include _contact-link-hover-focus-state();
    @include links-tab-focus-state();
  }

  &:hover,
  &:focus-visible {
    @include _contact-link-hover-focus-state();
  }

  &:active {
    color: $color--blue;
  }

  &:focus-visible {
    @include links-tab-focus-state();
  }
}

/// Default styles for the navbar links when not in mobile-view mode.
%links-footer-base {
  transition: $link-transition;

  &,
  &:link,
  &:visited {
    color: $color--off-white;
  }

  &:-moz-focusring {
    color: $color--brand-contrast;
  }

  &:hover,
  &:focus-visible {
    color: $color--blue-light;
  }

  &:active {
    color: shade($color--brand-contrast, 10%);
  }
}

%footer-links {
  @extend %links-footer-base;

  &:-moz-focusring {
    outline: 0.0625rem solid $color--brand-contrast;
    outline-offset: 0.125rem;
  }

  &:focus-visible {
    outline: 0.0625rem solid $color--brand-contrast;
    outline-offset: 0.125rem;
  }
}

%column-wrapper {
  flex: none;
  flex-basis: 100%;
  max-width: 100%;
}

%footer-column {
  @extend %column-wrapper;

  @media screen and (min-width: $breakpoint--xl) {
    flex: none;
  }
}

%scroll-margin-top {
  scroll-margin-top: 7.5625rem; // Adjust for nav header height

  @media screen and (max-width: $breakpoint--xtiny) {
    scroll-margin-top: 9.5625rem
  }

  @media
    screen and (min-width: $breakpoint--309),

    screen
      and (min-width: $breakpoint--max-phone-width-plusone)
      and (-webkit-min-device-pixel-ratio: 2),
    screen
      and (min-width: $breakpoint--max-phone-width-plusone)
      and (min-resolution: 192dpi),
    screen
      and (min-width: $breakpoint--max-phone-width-plusone)
      and (min-resolution: 2dppx)
  {
    scroll-margin-top: 9.75rem;
  }

  @media screen and (min-width: $breakpoint--1080) {
    scroll-margin-top: 13.25rem;
  }
}
